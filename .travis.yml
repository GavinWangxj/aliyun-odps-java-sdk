language: java
dist: trusty
jdk:
  - oraclejdk8
install: mvn install -B -DskipTests=true -Dgpg.skip=true -Djavadoc.skip=true
script: mvn package -B -DskipTests=true -Dgpg.skip=true -Djavadoc.skip=true
deploy:
  provider: releases
  api_key:
    secure: bCnwLPHENkfe7nsQC3SFHriW4/wraqIFU9pr6JRkvD8LgQH8cKnNYz+ij/J39PPGKAdpZwXVXE8f2kjsW0TJNxcFYViEXkfX8iq9hfzk9JiVfFeaB8O/FycQOh4tlbKsuVLDMCQTnwU1eKUfVm9niFVJs7RHvhpzWOislKsaczWipIePcpaVKpAInajKwge7JN13pKOb7rGapHyiO2kNLoSY7aNwDHKU3cGxDubnXvoUxFCmXko2ByXmT0g1VvndPKjsK5ElT5pC8vPvovduGLEnDlDIwMsnQVPtur7Vgpa5KWRNxabX9o3ks2HiTZBVdYU5tE3AjA2qNxNzUam3/pJ5RPwL+A7t5A38Apb9pOYBE83qfSZJPTIKIvtaRt83VhZd2jckvHoDZw60UdpmXfjJo1tsSn+Xek5CqEM2P+ylVZd1YcPT73iblyhFOcXqRsO/xcE2pLfDkE34bToE7bIjzZPdNZn5aH5fHwNisI8g2UKz7Hn3ZNx86lw0w32HuSgavEi13NyF23zTw6BXAmA/jLU9LxeXsoVLpGOZfEdpFyKPhOtxrqgf3wBigak/k0l7XuEkuARctBgeEroMS2h075uUhEXO6dD1ZUjGgsYaUzA258UCWVPT7vDhQ0yu0CsuTrLLxLUv9q2auDtqjoZ3IMBCZWov98NA0qPI69A=
  file: 'CHANGELOG.md'
  skip_cleanup: true
  on:
    tags: true
env:
  global:
  - SONATYPE_USERNAME=lymanrb
  - secure: SxuF4re32f2ubtQwGyh3Vhanmk5uc90EarBVO8R1R5R6TuD5RIe0uOih9IY8RQ7uZagYD7aWC90UEctnwxWL96HdD3Hja2nSHHFtnQG/lTpv9NWpEt4S3sKw5mrqSvHphh5tV55fqgUun6IIk0b8ngrTYCmPIUkP4/gn2sAO0BAAkbcSUFWAJq5P98uBoSV805MFxzdsWexixwuF5xqM2TUjh5kpVHmMQ/1J608ti4d48boFYnkrR3TZk0kO2Ajga2ccTGPygvClx67D0X5/2DsolBw5huzFh+6okrVfh43DD8bYNso3hwqYLyAxhUgAEklDxC8JPPSoepi5+8Irg2sSchGF/lRp9jkdJ0pS+Z0Gv3OCQU6B6sX1299SDfKA+8ZE2uU8shHCwrrpSanJzDiLi3Jg89UL9fdaLcAhBCPcZT3xQHhMFqQPdp6WyYQrFhXZN/ngWdk+HKdASgxhK5URuRE1akkNP8Im3PjgNhdnmQ9j4jlw348HhGju9zmtQxzjfpx0k0CxI3FRwW72e4ND5Jn4h1v5cPN9rxuQxMXeYCXRjnTlO3odqhLWtEtSXU/MncIH+P/XqJ0lDJMZPZfHjwYMVMzDRmfUrMmRC4kNgPShm6jgAdhkh3vYSllHVFW04ASxYP5C7ersXGmX75K+/SjfXodGFJ5dUs4GZgU=
  - secure: QC/lToqLXFqKFYwcPdL2MryeSm8vdzCVLn4RqLTImQs2FRupB2lHDC1nQMnTDQlb/3UA3fnxms0hdU9JOdIwqQ6CxvuwPeylMzsRNn75o+X2GtO49tgZkhONTpxYjxtBueFaZtclE3U3ggzaE/kPqDncYGKzEBAfjrIRi8DM5sHwdkq8OBUR06ofIp/UOCSXqGGWNeUz4r5J1CJyARdFag+YEwGZbY0sr4YTXg3SOE+N5wx9B5pa8fsjoyLGCuEo4A+3cfJwZvvj1mM2nkubaOxqDFRlIRTtUUlJdHTnLU+E1bkTHQ0QVFJBDTV0WsGbsMV/MpXifOhaq75SdEyXNUeOUwM+pitbHC1uEzwGAh5O77/TNZsSZDoEgoBhWTO5fLGD0/ngUGQ9/Dch+H98lZ1fF2heM5Z4HKDEUpmgkKm9VbTsKI5zAgRKWjZM8fSuG/+FNq35JbzyoJRzQQUocjeRov1J5xhMXKFdTTdxfGpaqtxgYymrejq8icgM5Vx88ws47oYZBTAI3B1bZLqrQ8+MmtljZHI70DDwx/f1L5Yz41USHxZix/pqmuBpoq3KiPTnIPg0SAss1mg5M9xxDts4RqBDecL5WCSc9kW4pLNvtJ5ci1we+SWgWLH94YO4YfFgJKYQ90WiakFXQrwSqMVYLCHW4kx+3lpYgEDlyy8=
after_deploy:
- echo "deploying to maven central"
- gpg --import secret.key.asc
- mvn deploy --settings settings.xml  -B -DskipTests=true -Dgpg.passphrase=$GPG_PASSPHRASE
before_install:
- openssl aes-256-cbc -K $encrypted_f86dc6d297df_key -iv $encrypted_f86dc6d297df_iv
  -in secret.key.asc.enc -out secret.key.asc -d
